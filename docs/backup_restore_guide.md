# æ–‡æœ¬æ›¿æ¢å¤‡ä»½å’Œæ¢å¤æŒ‡å—

## ä½¿ç”¨å¤‡ä»½åŠŸèƒ½

### 1. åˆ›å»ºå¤‡ä»½
ä½¿ç”¨ `--backup` é€‰é¡¹åœ¨æ‰§è¡Œæ›¿æ¢å‰è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶ï¼š

```bash
tools replace "old:new" --backup --execute
```

### 2. å¤‡ä»½ä½ç½®
å¤‡ä»½æ–‡ä»¶ä¿å­˜åœ¨ï¼š`~/.simpletools-backup/`

æ¯æ¬¡å¤‡ä»½åˆ›å»ºä¸€ä¸ªå¸¦æ—¶é—´æˆ³çš„ç›®å½•ï¼Œä¾‹å¦‚ï¼š
- `~/.simpletools-backup/replace_20250613_103000/`

### 3. å¤‡ä»½å†…å®¹
- æ‰€æœ‰å°†è¢«ä¿®æ”¹çš„æ–‡ä»¶çš„åŸå§‹å‰¯æœ¬
- `backup_info.json` æ–‡ä»¶ï¼ŒåŒ…å«å¤‡ä»½ä¿¡æ¯

## æ¢å¤æ–‡ä»¶

### æ–¹æ³•1ï¼šæ‰‹åŠ¨æ¢å¤å•ä¸ªæ–‡ä»¶
```bash
# æŸ¥çœ‹å¤‡ä»½ç›®å½•
ls ~/.simpletools-backup/

# æŸ¥çœ‹æœ€æ–°å¤‡ä»½
ls ~/.simpletools-backup/replace_20250613_103000/

# æ¢å¤å•ä¸ªæ–‡ä»¶
cp ~/.simpletools-backup/replace_20250613_103000/path/to/file.txt ./path/to/file.txt
```

### æ–¹æ³•2ï¼šæ¢å¤æ‰€æœ‰æ–‡ä»¶
```bash
# è¿›å…¥å¤‡ä»½ç›®å½•
cd ~/.simpletools-backup/replace_20250613_103000/

# æ¢å¤æ‰€æœ‰æ–‡ä»¶ï¼ˆä¿æŒç›®å½•ç»“æ„ï¼‰
cp -r * /original/project/path/
```

### æ–¹æ³•3ï¼šä½¿ç”¨ rsync æ¢å¤
```bash
# æ›´å®‰å…¨çš„æ¢å¤æ–¹å¼
rsync -av ~/.simpletools-backup/replace_20250613_103000/ /original/project/path/
```

## æŸ¥çœ‹å¤‡ä»½ä¿¡æ¯
```bash
# æŸ¥çœ‹å¤‡ä»½è¯¦æƒ…
cat ~/.simpletools-backup/replace_20250613_103000/backup_info.json
```

## æ¸…ç†æ—§å¤‡ä»½
```bash
# åˆ é™¤è¶…è¿‡30å¤©çš„å¤‡ä»½
find ~/.simpletools-backup -type d -mtime +30 -exec rm -rf {} +

# æˆ–æ‰‹åŠ¨åˆ é™¤ç‰¹å®šå¤‡ä»½
rm -rf ~/.simpletools-backup/replace_20250613_103000/
```

## æœ€ä½³å®è·µ

1. **é‡è¦æ“ä½œå¿…é¡»å¤‡ä»½**
   ```bash
   tools replace "critical:change" --backup --execute
   ```

2. **å…ˆé¢„è§ˆå†æ‰§è¡Œ**
   ```bash
   # ç¬¬ä¸€æ­¥ï¼šé¢„è§ˆ
   tools replace "old:new"

   # ç¬¬äºŒæ­¥ï¼šç¡®è®¤åæ‰§è¡Œå¹¶å¤‡ä»½
   tools replace "old:new" --backup --execute
   ```

3. **å®šæœŸæ¸…ç†å¤‡ä»½**
   - å¤‡ä»½ä¼šå ç”¨ç£ç›˜ç©ºé—´
   - å»ºè®®æ¯æœˆæ¸…ç†ä¸€æ¬¡æ—§å¤‡ä»½

## æ³¨æ„äº‹é¡¹

- å¤‡ä»½åŠŸèƒ½åªåœ¨ `--execute` æ¨¡å¼ä¸‹ç”Ÿæ•ˆ
- é¢„è§ˆæ¨¡å¼ï¼ˆ`--dry-run`ï¼‰ä¸ä¼šåˆ›å»ºå¤‡ä»½
- å¤‡ä»½ä¿æŒåŸå§‹æ–‡ä»¶çš„æ—¶é—´æˆ³å’Œæƒé™
- å¦‚æœå¤‡ä»½å¤±è´¥ï¼Œæ“ä½œä»ä¼šç»§ç»­ï¼ˆä¼šæœ‰è­¦å‘Šï¼‰

## ç´§æ€¥æ¢å¤æ­¥éª¤

å¦‚æœè¯¯æ“ä½œåéœ€è¦ç´§æ€¥æ¢å¤ï¼š

1. **ç«‹å³åœæ­¢** - ä¸è¦å†æ‰§è¡Œå…¶ä»–æ“ä½œ
2. **æŸ¥æ‰¾æœ€æ–°å¤‡ä»½**
   ```bash
   ls -lt ~/.simpletools-backup/ | head -5
   ```
3. **éªŒè¯å¤‡ä»½å†…å®¹**
   ```bash
   ls ~/.simpletools-backup/replace_XXXXXX_XXXXXX/
   ```
4. **æ¢å¤æ–‡ä»¶**
   ```bash
   cp -i ~/.simpletools-backup/replace_XXXXXX_XXXXXX/* .
   ```
   ï¼ˆ-i é€‰é¡¹ä¼šåœ¨è¦†ç›–å‰è¯¢é—®ï¼‰

---

ğŸ’¡ **æç¤º**ï¼šè™½ç„¶æœ‰å¤‡ä»½åŠŸèƒ½ï¼Œä½†æœ€å¥½çš„ä¿æŠ¤æ˜¯ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚ Gitï¼‰ï¼
